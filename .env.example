# =============================================================================
# Blue-Green Deployment Template — Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values for your environment:
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to git — it contains secrets.
# =============================================================================

# -----------------------------------------------------------------------------
# Project
# -----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=appname

# -----------------------------------------------------------------------------
# App Configuration
# -----------------------------------------------------------------------------
# Number of app container replicas per color (blue or green)
APP_REPLICAS=2

# Which environment is currently receiving traffic: "blue" or "green"
# This is updated automatically by scripts/switch-environment.sh
ACTIVE_ENV=blue

# -----------------------------------------------------------------------------
# Nginx Mode
# -----------------------------------------------------------------------------
# "internet" — Public-facing server. Nginx handles SSL termination.
# "internal" — Behind a main reverse proxy. HTTP only, no SSL.
NGINX_MODE=internet

# Ports exposed on the host
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# -----------------------------------------------------------------------------
# Domain & SSL (internet mode only)
# -----------------------------------------------------------------------------
# Your domain name — used for SSL certificates and Nginx server_name
DOMAIN_NAME=example.com

# Email for Let's Encrypt certificate notifications
CERTBOT_EMAIL=admin@example.com

# -----------------------------------------------------------------------------
# Health Check Configuration
# -----------------------------------------------------------------------------
# Used by scripts/switch-environment.sh and scripts/health-check-wait.sh
HEALTH_CHECK_RETRIES=5
HEALTH_CHECK_INTERVAL=2

# -----------------------------------------------------------------------------
# PostgreSQL
# -----------------------------------------------------------------------------
POSTGRES_USER=appuser
POSTGRES_PASSWORD=changeme_secure_password
POSTGRES_DB=appdb

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
# Uncomment and set if you want Redis password authentication
# REDIS_PASSWORD=changeme_redis_password
